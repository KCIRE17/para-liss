<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Para Liss Lucero - Una sorpresa</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@700&family=Gochi+Hand&family=Great+Vibes&family=Be+Vietnam+Pro:wght@400;700&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet"/>
    
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <style>
        body { font-family: 'Be Vietnam Pro', sans-serif; margin: 0; background: #ec1337; overflow-x: hidden; }
        .font-script { font-family: 'Great Vibes', cursive; }
        .font-handwritten { font-family: 'Caveat', cursive; }
        .font-doodle { font-family: 'Gochi Hand', cursive; }
        
        /* Transiciones de secciones */
        .section { display: none; min-height: 100dvh; width: 100%; animation: fadeIn 0.8s ease-in-out forwards; }
        .section.active { display: flex; flex-direction: column; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Estilos del Sobre */
        #envelope-container:hover #envelope-top { transform: rotateX(180deg); z-index: 0; }
        #envelope-container:hover #letter { transform: translateY(-100px); }
        .tap-hint { animation: bounce 2s infinite; }
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% {transform: translateY(0) translateX(-50%);} 40% {transform: translateY(-10px) translateX(-50%);} 60% {transform: translateY(-5px) translateX(-50%);} }

        /* Estilos del √Ålbum */
        .paper-texture { background-color: #f8f6f6; background-image: radial-gradient(#d1cfcf 0.5px, transparent 0.5px); background-size: 20px 20px; }
        .scratch-surface { background: repeating-linear-gradient(45deg, #ec1337, #ec1337 10px, #d11131 10px, #d11131 20px); }
        .heart-pulse { animation: pulse 2s infinite ease-in-out; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }

        /* Estilo Polaroide Clickable */
        .polaroid { transition: transform 0.3s ease; cursor: pointer; }
        .polaroid:hover { transform: scale(1.05) rotate(0deg) !important; z-index: 50; }

        /* Modal para ver fotos grandes */
        #photo-modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 200; align-items: center; justify-content: center; padding: 20px; animation: fadeIn 0.3s ease; }
    </style>
</head>
<body>

    <audio id="romanticSong" loop preload="auto">
        <source src="musica/ED SHEERAN PERFECT (instrumental).mp3" type="audio/mpeg">
    </audio>

    <div id="photo-modal" onclick="this.style.display='none'">
        <div class="max-w-md w-full bg-white p-3 rounded-xl shadow-2xl scale-in" onclick="event.stopPropagation()">
            <img id="modal-img" src="" class="w-full rounded-lg shadow-inner mb-4 object-cover max-h-[60dvh]">
            <p id="modal-text" class="font-handwritten text-3xl text-center text-gray-800 p-4 leading-tight"></p>
            <button class="mt-2 w-full text-gray-400 text-xs uppercase tracking-widest font-bold py-2" onclick="document.getElementById('photo-modal').style.display='none'">Cerrar</button>
        </div>
    </div>

    <section id="step1" class="section active items-center justify-center p-8">
        <div class="relative w-full max-w-sm aspect-[4/3] bg-white rounded-lg shadow-2xl flex items-center justify-center cursor-pointer group outline-none" id="envelope-container" onclick="irAAlbun()">
            <div class="absolute w-[85%] h-[80%] bg-[#f8f6f6] p-6 shadow-sm transition-transform duration-700 delay-200" id="letter">
                <div class="border-2 border-[#ec1337]/20 h-full w-full flex flex-col items-center justify-center text-center p-4">
                    <span class="material-icons text-[#ec1337] text-4xl mb-4">mail_outline</span>
                    <h3 class="text-[#ec1337] font-bold text-lg mb-2">Mi amor</h3>
                    <p class="text-[10px] text-gray-600 uppercase tracking-widest">Invitaci√≥n Privada</p>
                </div>
            </div>
            <div class="absolute top-0 w-full h-1/2 bg-white border-b border-gray-100 origin-top transition-transform duration-700 z-10" id="envelope-top" style="clip-path: polygon(0 0, 100% 0, 50% 100%);"></div>
            <div class="absolute bottom-0 w-full h-1/2 bg-white z-20" style="clip-path: polygon(0 100%, 0 0, 50% 50%, 100% 0, 100% 100%);"></div>
            <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-30 w-16 h-16 bg-[#ec1337] rounded-full shadow-lg flex items-center justify-center border-4 border-[#ec1337]/30">
                <span class="material-icons text-white text-3xl">favorite</span>
            </div>
            <p class="tap-hint absolute -bottom-16 left-1/2 text-white/80 font-semibold tracking-widest text-xs">TOCA EL CORAZ√ìN</p>
        </div>
    </section>

    <section id="step2" class="section paper-texture p-6">
        <div class="max-w-[430px] mx-auto bg-white/30 shadow-2xl flex flex-col p-6 rounded-3xl border border-white/50">
            <header class="text-center mt-4 mb-8">
                <h1 class="font-handwritten text-5xl text-[#ec1337] font-bold">Liss Lucero</h1>
                <p class="font-doodle text-lg text-[#ec1337] opacity-80 italic">Toca nuestras fotos...</p>
            </header>

            <div class="grid grid-cols-2 gap-4 mb-8">
                <div class="polaroid rotate-[-3deg] bg-white p-2 shadow-lg" 
                     onclick="verFoto('img/imagen1.jpeg', 'Me encanta estar cada momento contigo, incluso en las cosas m√°s simples.')">
                    <img src="img/imagen1.jpeg" class="w-full aspect-square object-cover">
                </div>
                
                <div class="polaroid rotate-[5deg] bg-white p-2 shadow-lg mt-4"
                     onclick="verFoto('img/imagen2.jpeg', 'Aveces no te entiendo jaja perome encanta todo de ti')">
                    <img src="img/imagen2.jpeg" class="w-full aspect-[4/5] object-cover">
                </div>
                
                <div class="polaroid rotate-[-6deg] bg-white p-2 shadow-lg -mt-4"
                     onclick="verFoto('img/imagen3.jpeg', 'Espero que podamos seguir creando recuerdos tan hermosos como este por mucho tiempo m√°s, nos descubrieron xd.')">
                    <img src="img/imagen3.jpeg" class="w-full aspect-square object-cover">
                </div>
                
                <div class="polaroid rotate-[2deg] bg-white p-2 shadow-lg"
                     onclick="verFoto('img/imagen4.jpeg', 'Espero poder ir y compartir contigo miles de experiencias de ac√° hasta el infinito')">
                    <img src="img/imagen4.jpeg" class="w-full aspect-[3/2] object-cover">
                </div>
            </div>

            <div class="relative h-28 w-full bg-[#ec1337]/5 rounded-2xl overflow-hidden group cursor-pointer shadow-inner">
                <div class="absolute inset-0 flex flex-col items-center justify-center bg-white">
                    <span class="material-symbols-rounded text-[#ec1337]">location_on</span>
                    <p class="font-bold text-xl text-gray-800">Escaleras jajaj</p>
                    <p class="text-sm text-gray-500">14 de Febrero - 3:00 PM</p>
                </div>
                <div class="absolute inset-0 scratch-surface transition-opacity duration-1000 group-active:opacity-0 flex items-center justify-center z-10">
                    <span class="material-symbols-rounded text-white text-4xl animate-pulse">auto_fix_high</span>
                </div>
            </div>

            <button onclick="irAPregunta()" class="mt-12 bg-[#ec1337] text-white py-4 rounded-full font-bold shadow-xl active:scale-95 transition-all text-xs tracking-widest uppercase">
                Tengo una pregunta...
            </button>
        </div>
    </section>

    <section id="step3" class="section bg-[#fdf8f9] items-center justify-center p-4">
        <main class="w-full max-w-[400px] bg-white h-[844px] rounded-[3rem] shadow-2xl relative border-[8px] border-gray-900 flex flex-col overflow-hidden">
            <header class="mt-16 text-center">
                <p class="text-[#ec1337] uppercase tracking-[0.3em] text-[10px] font-bold mb-2">Para mi persona favorita</p>
                <h1 class="font-script text-6xl text-[#ec1337]">Liss Lucero</h1>
            </header>

            <div class="flex-1 flex flex-col items-center justify-center px-8">
                <div class="heart-pulse bg-red-50 rounded-full p-12 mb-10 relative">
                    <span class="material-icons text-[#ec1337] text-8xl">favorite</span>
                </div>
                <h2 class="text-3xl font-bold text-gray-800 leading-tight text-center">
                    ¬øQuieres ser mi <br><span class="text-[#ec1337]">San Valent√≠n</span> este a√±o? y los siguientes?
                </h2>
            </div>

            <div class="p-8 pb-12 space-y-4 bg-white/80 backdrop-blur-md">
                <button onclick="lanzarAceptacion()" class="w-full bg-[#ec1337] text-white py-5 rounded-full font-bold shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2">
                    S√ç, ¬°SIEMPRE! <span class="material-icons">favorite</span>
                </button>
                <button onclick="mensajeNo()" class="w-full bg-gray-50 text-gray-400 py-4 rounded-full font-semibold text-xs tracking-widest">
                    D√©jame pensarlo...
                </button>
                <div class="w-32 h-1 bg-gray-200 rounded-full mx-auto mt-6"></div>
            </div>
        </main>
    </section>

    <script>
        const audio = document.getElementById('romanticSong');

        // Funci√≥n para abrir el modal con foto y texto
        function verFoto(url, mensaje) {
            document.getElementById('modal-img').src = url;
            document.getElementById('modal-text').innerText = mensaje;
            document.getElementById('photo-modal').style.display = 'flex';
        }

        function irAAlbun() {
            audio.play().catch(e => console.log("M√∫sica activada"));
            cambiarSeccion('step1', 'step2');
            document.body.style.background = '#f8f6f6';
        }

        function irAPregunta() {
            cambiarSeccion('step2', 'step3');
            document.body.style.background = '#fdf8f9';
        }

        function cambiarSeccion(actual, siguiente) {
            document.getElementById(actual).classList.remove('active');
            document.getElementById(siguiente).classList.add('active');
            window.scrollTo(0, 0);
        }

        function mensajeNo() {
            Swal.fire({
                title: '¬°Ups! üòú',
                text: 'Ese bot√≥n est√° deshabilitado por exceso de amor.',
                icon: 'info',
                confirmButtonText: 'Ok, te har√© caso',
                confirmButtonColor: '#ec1337'
            });
        }

        function lanzarAceptacion() {
            const heart = confetti.shapeFromPath({ path: 'M167 430c-75 0-107-77-107-125 0-124 103-125 107-125 4 0 107 1 107 125 0 48-32 125-107 125z', matrix: [0.033, 0, 0, 0.033, -5.566, -5.533] });
            
            const interval = setInterval(() => {
                confetti({ particleCount: 40, spread: 80, origin: { y: 0.6 }, colors: ['#ec1337', '#ff69b4'], shapes: [heart] });
            }, 250);

            setTimeout(() => {
                Swal.fire({
                    title: '¬°SIIUUU! ‚ù§Ô∏è',
                    text: '¬°Sab√≠a que dir√≠as que s√≠! Te amo much√≠simo mi amor.',
                    imageUrl: 'https://media.giphy.com/media/l41lH4ADRtAYnGsLe/giphy.gif',
                    imageWidth: 200,
                    confirmButtonText: '¬°Nos vemos el 14! üòç',
                    confirmButtonColor: '#ec1337',
                    allowOutsideClick: false
                }).then((result) => {
                    if (result.isConfirmed) {
                        Swal.close();
                    }
                });
            }, 800);
            
            setTimeout(() => clearInterval(interval), 10000);
        }
    </script>
</body>
</html>